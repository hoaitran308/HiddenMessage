@page "/hide"

@if (messageAcceptLength.HasValue && messageAcceptLength.Value > 0)
{
    <div class="alert alert-success">
        @if (string.IsNullOrEmpty(imageEncodedURL))
        {
            @if (messageEncrypted.Length > messageAcceptLength)
            {
                <h3 style="color: red">Độ dài tin nhắn không hợp lệ.</h3><hr />
            }

            <label for="message">Tin nhắn:</label><br />
            <textarea id="message" rows="4" @bind="message" class="form-control"></textarea>
            <hr />
            <label for="password">Mật khẩu:</label><br />
            <input type="text" id="password" @bind="password" class="form-control">
            <hr />
            <button class="btn btn-success" @onclick="OnClickHideMessage">Giấu vào ảnh</button>
        }
        else
        {
            <button class="btn btn-success" @onclick="OnClickDownloadAsync">Tải về</button>
            <hr />
            <img src="@imageEncodedURL" />
        }
    </div>
}

@if (messageAcceptLength.HasValue && messageAcceptLength.Value == 0)
{
    <div class="alert alert-danger">
        Ảnh không hợp lệ! Vui lòng kiểm tra lại.
    </div>
}

<div class="alert alert-info">
    @if (!string.IsNullOrEmpty(imageOriginalURL))
    {
        <b>Ảnh gốc</b>
        <hr />
        <img src="@imageOriginalURL" />
    }
    else
    {
        <label for="image">Hình ảnh:</label><br />
        <InputFile id="image" OnChange="@OnFileChangedAsync" accept="image/*" />
    }
</div>


@code {

}
